define("wp-imgur/app",["ember","ember/resolver","ember/load-initializers","wp-imgur/ext/easy_form","exports"],function(e,t,r,n,s){"use strict";var i=e["default"],a=t["default"],u=r["default"],o=n["default"],p=i.Application.extend({modulePrefix:"wp-imgur",Resolver:a,rootElement:"#wp-imgur",includes:[o]});u(p,"wp-imgur"),s["default"]=p}),define("wp-imgur/ext/easy_form",["ember","exports"],function(e,t){"use strict";var r=e["default"];r.EasyForm.Config.registerWrapper("wp-input",{inputTemplate:"wp-input",errorClass:"validation-error"}),r.EasyForm.Error.reopen({classNameBindings:["errorText:nohide:hide"]}),r.EasyForm.BaseView.reopen({templateForName:function(e){if(e){var t="wp-imgur",r="";if(r=-1!==e.indexOf("-")?t+"/templates/components/"+e:t+"/templates/"+e,requirejs.entries[r])return require(r)["default"]}return this._super("templateForName",e)}}),t["default"]=r.EasyForm}),define("wp-imgur/components/notice-bar",["ember","wp-imgur/models/notice","exports"],function(e,t,r){"use strict";var n=e["default"],s=t["default"],i=n.Component.extend({classNameBindings:["visible:nohide:hide"],notice:function(){return s}.property(),visible:function(){return!this.get("notice.available")}.property("notice.available"),messages:function(){return this.get("notice.messages")}.property("notice.messages"),messageClass:function(){var e=this.get("notice.type");return"progress"===e?"updated progress":"success"===e?"updated":null===e?"":e}.property("notice.type")});r["default"]=i}),define("wp-imgur/models/notice",["ember","exports"],function(e,t){"use strict";var r=e["default"],n=r.Object.extend({type:null,messages:r.A(),show:function(e,t){this.set("type",e),this.set("messages",this.toMessages(t))},hide:function(){this.set("type",null),this.set("messages",r.A())},enabled:function(){return null!==this.get("type")},toMessages:function(e){var t=r.A(),n=r.typeOf(e);return"string"===n?t.push(e):"object"===n?t.push.apply(t,this.fieldsToMessages(e)):"array"===n?t.push.apply(t,e):t.push("Unknown Error: "+e),t},fieldsToMessages:function(e){var t=r.A();for(var n in e)if(e.hasOwnProperty(n)){var s=e[n];t.push.apply(t,s)}return t}});t["default"]=n.create()}),define("wp-imgur/config",["ember","exports"],function(e,t){"use strict";var r=e["default"],n=r.Object.extend({configKey:"wp_imgur_app_run",store:function(){return window[this.get("configKey")]}.property(),apiEndpoint:function(){return this.get("store").apiEndpoint}.property("store"),nonce:function(){return this.get("store").nonce}.property("store"),debug:function(){return"1"===this.get("store").debug}.property("store")});t["default"]=n.create()}),define("wp-imgur/controllers/sync",["ember","wp-imgur/models/notice","exports"],function(e,t,r){"use strict";var n=e["default"],s=t["default"],i=n.ObjectController.extend({onSyncStart:function(){s.show("progress","Starting Sync ...")},onSyncProgress:function(){var e=this.get("content");s.show("progress","Synchronizing "+e.get("name")+" ...");var t=n.$(".imgur-thumb");t.css("background-image","url("+e.get("thumbnail")+")")},onSyncStop:function(){s.show("success","Sync Stopped.")},onSyncError:function(e){s.show("error","Sync Failed: "+e)},onSyncComplete:function(){s.show("success","Sync Completed.")},actions:{startSync:function(){var e=this.get("content"),t=["syncStart","syncProgress","syncStop","syncComplete","syncError"],r=this;t.forEach(function(t){var n="on"+t.capitalize(),s=r[n];e.off(t,r,s),e.on(t,r,s)}),e.startSync()},stopSync:function(){var e=this.get("content");e.stopSync()}}});r["default"]=i}),define("wp-imgur/ext/arrow_api",["ember","wp-imgur/config","exports"],function(e,t,r){"use strict";var n=e["default"],s=t["default"],i=n.Object.extend({apiEndpoint:s.get("apiEndpoint"),nonce:s.get("nonce"),urlFor:function(e,t){var r={};return r.controller=e,r.operation=t,r.nonce=this.get("nonce"),this.get("apiEndpoint")+"&"+n.$.param(r)},request:function(e,t,r){return r.url=this.urlFor(e,t),new n.RSVP.Promise(function(e,t){return n.$.ajax(r).then(function(r){"0"===r?t("Not Logged In"):r.success?e(r.data):t(r.data.error)}).fail(function(e){var r;r="timeout"===e.statusText?"Request Timed Out.":e.responseJSON?e.responseJSON.data.error:"Unknown Response.",t(r)})})}});r["default"]=i.create()}),define("wp-imgur/ext/wp_notice",["ember","exports"],function(e,t){"use strict";var r=e["default"],n=r.Object.extend({show:function(e,t){var n=r.$(".static-notice");n.attr("class",e);var s=r.$("p strong",n);s.text(t)},hide:function(){r.$(".static-notice").remove()}});t["default"]=n.create()}),define("wp-imgur/models/auth",["ember","wp-imgur/ext/arrow_api","exports"],function(e,t,r){"use strict";var n=e["default"],s=t["default"],i=n.Object.extend({authorized:!1,authorizeUrl:null,pin:null,loaded:function(){return null!==this.get("authorizeUrl")}.property("authorizeUrl"),load:function(){if(this.get("loaded"))return this;var e=this,t={type:"GET"};return s.request("auth","index",t).then(function(t){return e.set("authorized",t.authorized),e.set("authorizeUrl",t.authorizeUrl),e.set("pin",""),e})},verifyPin:function(){var e={pin:this.get("pin")},t={type:"POST",data:JSON.stringify(e)};return s.request("auth","verifyPin",t).then(function(){return!0})}}),a=i.create();r["default"]=a}),define("wp-imgur/models/sync",["ember","wp-imgur/ext/arrow_api","exports"],function(e,t,r){"use strict";var n=e["default"],s=t["default"],i=n.Object.extend(n.Evented,{items:n.A(),active:!1,current:-1,currentItem:null,startSync:function(){var e=this,t=this.get("current");this.set("active",!0),this.trigger("syncStart"),-1===t?(this.set("current",0),this.load().then(function(){e.resumeSync()})["catch"](function(t){e.trigger("syncError",t)})):this.resumeSync()},resumeSync:function(){-1===this.get("current")&&this.set("current",0),this.set("total",this.get("items").length),this.next()},queueNext:function(){if(this.get("active")){var e=this.get("current")+1,t=this.get("total");if(this.set("current",e),t>e){this.trigger("syncProgress");var r=this;n.run(function(){r.next()})}else this.set("active",!1),this.set("current",-1),this.trigger("syncComplete")}},next:function(){var e={id:this.items[this.current]},t=this,r={type:"POST",data:JSON.stringify(e)};return s.request("sync","update",r).then(function(e){t.set("currentItem",e),t.queueNext()})},stopSync:function(){this.set("active",!1),this.trigger("syncStop")},isActive:function(){return this.get("active")}.property("active"),thumbnail:function(){var e=this.get("currentItem");return e?e.thumbnail:!1}.property("currentItem"),name:function(){var e=this.get("currentItem");return e?e.name:!1}.property("currentItem"),percentComplete:function(){return Math.round(this.get("current")/this.get("total")*100)}.property("current","total"),load:function(){var e=this,t={type:"GET"};return s.request("sync","index",t).then(function(t){e.set("items",n.A(t))})}});r["default"]=i.create()}),define("wp-imgur/router",["ember","exports"],function(e,t){"use strict";var r=e["default"],n=r.Router.extend({location:WpImgurENV.locationType});n.map(function(){this.route("authorize"),this.route("verifypin"),this.route("sync")}),t["default"]=n}),define("wp-imgur/routes/application",["ember","wp-imgur/ext/wp_notice","wp-imgur/models/notice","wp-imgur/models/auth","exports"],function(e,t,r,n,s){"use strict";var i=e["default"],a=t["default"],u=r["default"],o=n["default"],p=i.Route.extend({model:function(){return o.load()},afterModel:function(e){a.hide(),this.transitionTo(e.get("authorized")?"sync":"authorize")},actions:{authorizeStart:function(){window.open(o.get("authorizeUrl"),"_blank"),this.get("controller").transitionToRoute("verifypin")},verifyPin:function(){u.show("progress","Verifying PIN ...");var e=this;o.verifyPin().then(function(){u.show("updated","PIN Verified successfully.");var t=e.get("controller");t.transitionToRoute("sync")})["catch"](function(e){u.show("error",e)})},error:function(e){a.show("error","Error: "+e)}}});s["default"]=p}),define("wp-imgur/routes/sync",["ember","wp-imgur/models/sync","exports"],function(e,t,r){"use strict";var n=e["default"],s=t["default"],i=n.Route.extend({model:function(){return s}});r["default"]=i}),define("wp-imgur/routes/verifypin",["ember","wp-imgur/models/auth","exports"],function(e,t,r){"use strict";var n=e["default"],s=t["default"],i=n.Route.extend({model:function(){return s}});r["default"]=i}),define("wp-imgur/templates/application",["ember","exports"],function(e,t){"use strict";var r=e["default"];t["default"]=r.Handlebars.template(function(e,t,n,s,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,r.Handlebars.helpers),i=i||{};var a,u="";return a=n._triageMustache.call(t,"notice-bar",{hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["ID"],data:i}),(a||0===a)&&i.buffer.push(a),i.buffer.push("\n"),a=n._triageMustache.call(t,"outlet",{hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["ID"],data:i}),(a||0===a)&&i.buffer.push(a),i.buffer.push("\n"),u})}),define("wp-imgur/templates/authorize",["ember","exports"],function(e,t){"use strict";var r=e["default"];t["default"]=r.Handlebars.template(function(e,t,n,s,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,r.Handlebars.helpers),i=i||{};var a="",u=this.escapeExpression;return i.buffer.push('<p class="submit">\n  <a target=\'_blank\' class="button button-primary" '),i.buffer.push(u(n.action.call(t,"authorizeStart",{hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["STRING"],data:i}))),i.buffer.push(">Authorize</a>\n</p>\n"),a})}),define("wp-imgur/templates/components/notice-bar",["ember","exports"],function(e,t){"use strict";var r=e["default"];t["default"]=r.Handlebars.template(function(e,t,n,s,i){function a(e,t){var r,s="";return t.buffer.push("\n    <p>\n      <strong>"),r=n._triageMustache.call(e,"",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("</strong>\n    </p>\n  "),s}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,r.Handlebars.helpers),i=i||{};var u,o="",p=this.escapeExpression,h=this;return i.buffer.push('<div id="message" '),i.buffer.push(p(n["bind-attr"].call(t,{hash:{"class":"messageClass"},hashTypes:{"class":"ID"},hashContexts:{"class":t},contexts:[],types:[],data:i}))),i.buffer.push(">\n  "),u=n.each.call(t,"messages",{hash:{},hashTypes:{},hashContexts:{},inverse:h.noop,fn:h.program(1,a,i),contexts:[t],types:["ID"],data:i}),(u||0===u)&&i.buffer.push(u),i.buffer.push("\n</div>\n"),o})}),define("wp-imgur/templates/components/wp-input",["ember","exports"],function(e,t){"use strict";var r=e["default"];t["default"]=r.Handlebars.template(function(e,t,n,s,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,r.Handlebars.helpers),i=i||{};var a,u,o="",p=n.helperMissing,h=this.escapeExpression;return i.buffer.push('<tr>\n  <th scope="row">\n    '),i.buffer.push(h((a=n["label-field"]||t&&t["label-field"],u={hash:{propertyBinding:"view.property",textBinding:"view.label"},hashTypes:{propertyBinding:"STRING",textBinding:"STRING"},hashContexts:{propertyBinding:t,textBinding:t},contexts:[],types:[],data:i},a?a.call(t,u):p.call(t,"label-field",u)))),i.buffer.push("\n  </th>\n  <td>\n    "),i.buffer.push(h((a=n["input-field"]||t&&t["input-field"],u={hash:{propertyBinding:"view.property",inputOptionsBinding:"view.inputOptionsValues"},hashTypes:{propertyBinding:"STRING",inputOptionsBinding:"STRING"},hashContexts:{propertyBinding:t,inputOptionsBinding:t},contexts:[],types:[],data:i},a?a.call(t,u):p.call(t,"input-field",u)))),i.buffer.push("\n    "),i.buffer.push(h((a=n["error-field"]||t&&t["error-field"],u={hash:{propertyBinding:"view.property"},hashTypes:{propertyBinding:"STRING"},hashContexts:{propertyBinding:t},contexts:[],types:[],data:i},a?a.call(t,u):p.call(t,"error-field",u)))),i.buffer.push("\n  </td>\n</tr>\n"),o})}),define("wp-imgur/templates/easyForm/error",["ember","exports"],function(e,t){"use strict";var r=e["default"];t["default"]=r.Handlebars.template(function(e,t,n,s,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,r.Handlebars.helpers),i=i||{};var a,u="";return a=n._triageMustache.call(t,"view.errorText",{hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["ID"],data:i}),(a||0===a)&&i.buffer.push(a),i.buffer.push("\n"),u})}),define("wp-imgur/templates/easyForm/hint",["ember","exports"],function(e,t){"use strict";var r=e["default"];t["default"]=r.Handlebars.template(function(e,t,n,s,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,r.Handlebars.helpers),i=i||{};var a,u="";return a=n._triageMustache.call(t,"view.hintText",{hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["ID"],data:i}),(a||0===a)&&i.buffer.push(a),i.buffer.push("\n"),u})}),define("wp-imgur/templates/easyForm/input",["ember","exports"],function(e,t){"use strict";var r=e["default"];t["default"]=r.Handlebars.template(function(e,t,n,s,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,r.Handlebars.helpers),i=i||{};var a,u,o="",p=n.helperMissing,h=this.escapeExpression;return i.buffer.push(h((a=n["label-field"]||t&&t["label-field"],u={hash:{propertyBinding:"view.property",textBinding:"view.label"},hashTypes:{propertyBinding:"STRING",textBinding:"STRING"},hashContexts:{propertyBinding:t,textBinding:t},contexts:[],types:[],data:i},a?a.call(t,u):p.call(t,"label-field",u)))),i.buffer.push("\n"),i.buffer.push(h((a=n.partial||t&&t.partial,u={hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["STRING"],data:i},a?a.call(t,"easyForm/inputControls",u):p.call(t,"partial","easyForm/inputControls",u)))),i.buffer.push("\n"),o})}),define("wp-imgur/templates/easyForm/inputControls",["ember","exports"],function(e,t){"use strict";var r=e["default"];t["default"]=r.Handlebars.template(function(e,t,n,s,i){function a(e,t){var r,s,i="";return t.buffer.push("\n  "),t.buffer.push(c((r=n["error-field"]||e&&e["error-field"],s={hash:{propertyBinding:"view.property"},hashTypes:{propertyBinding:"STRING"},hashContexts:{propertyBinding:e},contexts:[],types:[],data:t},r?r.call(e,s):l.call(e,"error-field",s)))),t.buffer.push("\n"),i}function u(e,t){var r,s,i="";return t.buffer.push("\n  "),t.buffer.push(c((r=n["hint-field"]||e&&e["hint-field"],s={hash:{propertyBinding:"view.property",textBinding:"view.hint"},hashTypes:{propertyBinding:"STRING",textBinding:"STRING"},hashContexts:{propertyBinding:e,textBinding:e},contexts:[],types:[],data:t},r?r.call(e,s):l.call(e,"hint-field",s)))),t.buffer.push("\n"),i}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,r.Handlebars.helpers),i=i||{};var o,p,h,f="",l=n.helperMissing,c=this.escapeExpression,d=this;return i.buffer.push(c((p=n["input-field"]||t&&t["input-field"],h={hash:{propertyBinding:"view.property",inputOptionsBinding:"view.inputOptionsValues"},hashTypes:{propertyBinding:"STRING",inputOptionsBinding:"STRING"},hashContexts:{propertyBinding:t,inputOptionsBinding:t},contexts:[],types:[],data:i},p?p.call(t,h):l.call(t,"input-field",h)))),i.buffer.push("\n"),o=n["if"].call(t,"view.showError",{hash:{},hashTypes:{},hashContexts:{},inverse:d.noop,fn:d.program(1,a,i),contexts:[t],types:["ID"],data:i}),(o||0===o)&&i.buffer.push(o),i.buffer.push("\n"),o=n["if"].call(t,"view.hint",{hash:{},hashTypes:{},hashContexts:{},inverse:d.noop,fn:d.program(3,u,i),contexts:[t],types:["ID"],data:i}),(o||0===o)&&i.buffer.push(o),i.buffer.push("\n"),f})}),define("wp-imgur/templates/easyForm/label",["ember","exports"],function(e,t){"use strict";var r=e["default"];t["default"]=r.Handlebars.template(function(e,t,n,s,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,r.Handlebars.helpers),i=i||{};var a,u="";return a=n._triageMustache.call(t,"view.labelText",{hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["ID"],data:i}),(a||0===a)&&i.buffer.push(a),i.buffer.push("\n"),u})}),define("wp-imgur/templates/loading",["ember","exports"],function(e,t){"use strict";var r=e["default"];t["default"]=r.Handlebars.template(function(e,t,n,s,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,r.Handlebars.helpers),i=i||{};var a="";return a})}),define("wp-imgur/templates/sync",["ember","exports"],function(e,t){"use strict";var r=e["default"];t["default"]=r.Handlebars.template(function(e,t,n,s,i){function a(e,t){var r,s="";return t.buffer.push('\n    <button class="button button-primary" '),t.buffer.push(f(n.action.call(e,"stopSync",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t}))),t.buffer.push(">Stop Sync</button>\n    <strong>&nbsp;"),r=n._triageMustache.call(e,"percentComplete",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push(" %</strong>\n    "),r=n["if"].call(e,"thumbnail",{hash:{},hashTypes:{},hashContexts:{},inverse:l.noop,fn:l.program(2,u,t),contexts:[e],types:["ID"],data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("\n  "),s}function u(e,t){var r="";return t.buffer.push('\n    <p class="submit">\n      <img '),t.buffer.push(f(n["bind-attr"].call(e,{hash:{src:"thumbnail"},hashTypes:{src:"ID"},hashContexts:{src:e},contexts:[],types:[],data:t}))),t.buffer.push(' class="imgur-thumb">\n    </p>\n    '),r}function o(e,t){var r="";return t.buffer.push('\n    <button class="button button-primary" '),t.buffer.push(f(n.action.call(e,"startSync",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t}))),t.buffer.push(">Start Sync</button>\n  "),r}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,r.Handlebars.helpers),i=i||{};var p,h="",f=this.escapeExpression,l=this;return i.buffer.push('<p class="submit">\n  '),p=n["if"].call(t,"isActive",{hash:{},hashTypes:{},hashContexts:{},inverse:l.program(4,o,i),fn:l.program(1,a,i),contexts:[t],types:["ID"],data:i}),(p||0===p)&&i.buffer.push(p),i.buffer.push("\n</p>\n"),h})}),define("wp-imgur/templates/verifypin",["ember","exports"],function(e,t){"use strict";var r=e["default"];t["default"]=r.Handlebars.template(function(e,t,n,s,i){function a(e,t){var r,s,i="";return t.buffer.push('\n  <table class="form-table">\n    <tbody>\n    '),t.buffer.push(l((r=n.input||e&&e.input,s={hash:{wrapper:"wp-input",label:"Enter Imgur PIN"},hashTypes:{wrapper:"STRING",label:"STRING"},hashContexts:{wrapper:e,label:e},contexts:[e],types:["ID"],data:t},r?r.call(e,"pin",s):f.call(e,"input","pin",s)))),t.buffer.push('\n    </tbody>\n  </table>\n  <p class="submit">\n    <button class="button button-primary" '),t.buffer.push(l(n.action.call(e,"verifyPin",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t}))),t.buffer.push(">Verify PIN</button>\n  </p>\n"),i}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,r.Handlebars.helpers),i=i||{};var u,o,p,h="",f=n.helperMissing,l=this.escapeExpression,c=this;return o=n["form-for"]||t&&t["form-for"],p={hash:{},hashTypes:{},hashContexts:{},inverse:c.noop,fn:c.program(1,a,i),contexts:[t],types:["ID"],data:i},u=o?o.call(t,"",p):f.call(t,"form-for","",p),(u||0===u)&&i.buffer.push(u),i.buffer.push("\n"),h})});